*필터(Filter)
필터는 서블릿 실행 전후에 어떤 작업을 하고자 할 때 
사용하는 기술이다.
예를 들면 클라이언트가 보낸 데이터의 암호를 해제한다거나, 서블릿이 실행되기 전에
필요한 자원을 미리 준비한다거나, 서블릿이 실행될 때마다 로그를 남긴다거나 
하는 작업을 필터를 통해 처리할 수 있다

필터는 기본적으로 특정 요청에만 동작하며,
여러 개의 필터가 정해진 순서에 따라 배치될 수 있는데
클라이언트 요청 처리 이전에 먼저 실행된다.
필터는 기존 코드의 변경 없이 애플리케이션에서 공통적으로 사용할 수 있는 기능 구현에
널리 사용된다

대표적으로 활용되는 분야
-인증, 로깅/감사, 국제화, 한글 인코딩 처리 등




==========================
*All in one 방식
서블릿 하나에서 모든 로직을 다 처리하는 방식
모든 기능이 하나의 클래스에 들어가 있어 빠르고 작업하기 편리한 장점이 있다
단점은 특정 로직을 변경하고 싶을 때 어디에서 문제가 발생하고 변경해야 할지
찾기 어려우며 특정 기능만 수정하기 어렵다는 것이다
올인원의 경우 목적이 거의 변하지 않고 명확하다면 올인원도 나쁜 선택은 아니다
유지 비용이 적게 든다
의사 결정이 빠르다
맡은 업무가 마비되면 전체에 문제가 생긴다
내용이 많아지면 작업이 거의 불가능하다
*요약: 현재의 글로벌 프로그램 개발에는 적합하지 않다

*MVC 패턴
위와 거의 반대
*요약: 현재의 글로벌 프로그램 개발에 적합하다(분업이 가능하다)


**JSP 전용 태그
지시자(Directive)
<%@ 지시자 %>
jsp 전용 태그로 지시자나 속성에 따라 특별한 자바 코드를 생성한다
jsp 지시자에는 page, taglib, include가 있다

<%@ 지시자 속성="값" 속성="값" ,,,,%>
jsp 페이지와 관련된 속성을 정의할 때 사용하는 태그이다
language 속성
스크립트릿이나 표현식, 선언부를 작성할 때 사용할 프로그래밍 언어를 지정한다

대소문자를 구분한다

contentType 속성
출력할 데이터의 MIME 타입과 문자 집합을 지정한다

text/html은 출력할 데이터가 HTML 텍스트임을 가리킨다

pageEncoding 속성
출력할 데이터의 문자 집합을 지정한다
기본값은 ISO-8859-1이다.

*스크립트릿(Scriptlet Element)
<% %>
JSP 페이지 안에 자바 코드를 넣을 때는 스크립트릿 태그 안에
작성한다. 스크립틀릿 태그 안에 작성한 내용은 서블릿 파일을 만들 때 그대로 복사된다

*JSP 기본 객체
Implicit Object라고도 부른다.
request, response, pageContext, session, application, config, out,
page, exception 객체가 존재한다

별도의 선언없이 바로 사용할 수 있다

*선언문(Declaration)
<%! %>
선언문은 서블릿 클래스의 멤버를 선언할 때 사용하는 태그이다

선언문의 위치는 어디든 상관없다
(몰라도 된다, 사용안함)

*표현식(Expression)
<%= %>
표현식 태그는 문자열을 출력할 때 사용한다
다라서 표현식 안에는 결과를 반환하는 자바 코드가 와야 한다
<%=문자열을 반환하는 자바 코드 %>


====================================================

*redirect와 forward, include 차이

서블릿 끼리 작업을 위임하는 방법에 대해 알아야 한다
작업을 위임하는 방법에는 포워딩과 인클루딩이 있다

포워드 방식은 작업을 한 번 위임하면 다시 이전 서블릿으로 돌아오지 않는다

인클루딩은 한 번 위임하고 다 수행되면 다시 이전 서블릿으로 돌아온다

-JSP 환경에서 현재 작업중인 페이지에서 다른 페이지로 이동하는 
페이지 전환 방법에서 
forward는 Web Container 차원에서 페이지 이동만 있다
실제로 웹 브라우저는 다른 페이지로 이동했음을 알 수 없다
때문에 웹 브라우저에는 최초에 호출한 URL이 표시되고 이동한 페이지의
URL 정보는 볼 수 없다
현재 실행 중인 페이지와 forward에 의해 호출된 페이지는
request와 response 객체를 공유한다

Redirect는 Web Container에 Redirect 명령이 들어오면
웹 브라우저에게 다른 페이지로 이동하라고 명령을 내린다
그러면 웹 브라우저는 URL을 지시된 주소로 변경하고 그 주소로 이동한다
새로운 페이지에서는 기존의 request와 response 객체를 사용할 수 없다
새로운 페이지에 새로운 request와 response가 새롭게 생성된다


==========================================================


*데이터 보관소
서블릿들이 서로 작업을 수행할 때, 데이터를 공유하는 방법
서블릿에서는 데이터를 공유하기 위한 방안으로 4 가지 종류의 데이터 보관소를 제공한다
각각의 보관소는 공유 범위를 기준으로 구분된다

1.ServletContext 보관소
웹 애플리케이션이 시작될 때 생성되어 웹 애플리케이션이 종료될 때 까지 유지된다
이 보관소에 데이터를 보관하면 웹 어플리케이션이 실행되는 동안에는 
모든 서블릿이 사용할 수 있다. 
JSP 에서는 application 변수를 통해 보관소를 이용할 수 있다

2.HttpSession 보관소
클라이언트의 최초 요청 시 생성되어 브라우저를 닫을 때까지 유지된다
보통 로그인할 때 이 보관소를 초기화하고, 로그아웃하면 이 보관소에 저장된
값들을 비운다. 따라서 이 보관소에 값을 보관하면 서블릿이나 jsp 페이지에 
상관없이 로그아웃 하기 전까지 계속 값을 유지할 수 있다
jsp에서는 session 변수를 통해 이 보관소를 이용할 수 있다

3.ServletRequest 보관소
클라이언트의 요청이 들어올 때 생성되어, 클라이언트에게 응답할 때까지 유지된다
이 보관소는 포워딩이나 인클루딩하는 서블릿들 사이에서 값을 공유할 때 유용하다
jsp에서는 request 변수를 통해 이 보관소를 참조할 수 있다

4.JspContext 보관소
jsp 페이지를 실행하는 동안만 유지된다. 
jsp에서는 pageContext 변수를 통해 이 보관소를 이용할 수 있다

============================================================
*세션(session)
클라이언트와 서버의 연결을 유지시켜주는 방법 중 하나이다.
웹 애플리케이션이 시작될 때 생성되어, 
웹 애플리케이션이 종료될 때까지 유지되는 객체이다.
무언가를 요청할 때 권한이나 증명을 해야하는 경우
id나 신분증을 요구하는데 항상 검사를 받는 것이 불편한데
한번만 인증받으면 이후는 검사를 하지 않고 이용이 가능하도록 하는 것


